{"author":{"id":"c8b5e6f4594a39a69d740ff06f6530160b48ff53db7027c22c4091f811b01812"},"ops":[{"type":1,"timestamp":1660210008,"nonce":"mLmEXyMi04xdQiCsxL06V5ykFx4=","metadata":{"github-id":"I_kwDOEt7lWM5PnSPg","github-url":"https://github.com/buzden/deptycheck/issues/13","origin":"github"},"title":"Different errors are shown depending on the way derivation algorithm is passed","message":"# Steps to reproduce\n\nConsider derivation task that should result in error, say derivation for a type with no constructors, say `Void`.\n\nConsider two ways of doing the derivation and passing the desired derivation algorithm:\n\n1. through `%hint`, e.g.:\n\n   ```idris\n   %hint      \n   UsedConsDerivator : ConstructorDerivator      \n   UsedConsDerivator = LeastEffort      \n      \n   gv : Fuel -\u003e Gen Void      \n   gv = deriveGen\n   ```\n\n2. through `auto`-parameter:\n\n   ```idris\n   gw : Fuel -\u003e Gen Void      \n   gw = deriveGen @{MainCoreDerivator @{LeastEffort}}\n   ```\n\n# Expected behaviour\n\nTwo ways fall with similar errors with comprehensive message.\n\n# Observed behaviour\n\nThe first one fails with understandable and relevant message:\n\n```\nError: While processing right hand side of gv. Error during reflection: No constructors found for the type `Builtin.Void`\n\nX:22:6--22:15\n 18 | UsedConsDerivator : ConstructorDerivator\n 19 | UsedConsDerivator = LeastEffort\n 20 | \n 21 | gv : Fuel -\u003e Gen Void\n 22 | gv = deriveGen\n           ^^^^^^^^^\n```\n\nBut the second one fails with irrelevant message:\n\n```\nError: While processing right hand side of gw. Error during reflection: No arguments in the generator function signature, at least a fuel argument must be present\n\nX:18:6--18:15\n 17 | gw : Fuel -\u003e Gen Void\n 18 | gw = deriveGen @{MainCoreDerivator @{LeastEffort}}\n           ^^^^^^^^^\n```","files":null}]}