{"author":{"id":"0ad62b4e74d0cfea710333bd09ab7fe40029553c0edf27d288e98fb5a820f1b0"},"ops":[{"type":1,"timestamp":1743089753,"nonce":"T4yuobZ7Zgs1ePkotlOuUF1YQO4=","metadata":{"github-id":"I_kwDOEt7lWM6wCnYq","github-url":"https://github.com/buzden/deptycheck/issues/255","origin":"github"},"title":"AtIndex with destructed parameterised type","message":"```idris\nmodule AtIndex\n\nimport Data.Fuel\nimport Test.DepTyCheck.Gen\n\n%default total\n\npublic export\ndata BoolableTy : Bool -\u003e Type where\n    T : BoolableTy True\n    F : BoolableTy False\n\npublic export infix 1 %=\n\npublic export\nrecord TyMap where\n    constructor (%=)\n    From : Nat\n    To   : BoolableTy bool\n\npublic export\ndata TyMapList : Type where\n    Nil  : TyMapList\n    (::) : TyMap -\u003e TyMapList -\u003e TyMapList\n\npublic export\ndata AtIndex : {map : TyMap} -\u003e\n               (from : Nat) -\u003e\n               (to : BoolableTy predicate) -\u003e\n               Type where\n    Here : {pred : Bool} -\u003e {to : BoolableTy pred} -\u003e AtIndex {map = (from %= to)} from to\n\npublic export\natIndexGen : Fuel -\u003e\n            (voidable : Bool) -\u003e\n            (map : TyMap) -\u003e\n            (from : Nat) -\u003e\n            (to   : BoolableTy voidable) -\u003e\n            Gen MaybeEmpty $ AtIndex {map} from to\n```\n\nDerivation fails with error:\n```\n[ build ] Error: While processing right hand side of atIndexGen. Error during reflection: While processing right hand side\n[ build ] of $resolved15024,\u003cAtIndex.AtIndex\u003e[0, 1, 2, 3]. While processing right hand side\n[ build ] of with block in $resolved15024,\u003cAtIndex.AtIndex\u003e[0, 1, 2, 3],\u003c\u003cAtIndex.Here\u003e\u003e. to_be_deceqed^^pred0 is not accessible in this context.\n```","files":null}]}