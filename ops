{"author":{"id":"c8b5e6f4594a39a69d740ff06f6530160b48ff53db7027c22c4091f811b01812"},"ops":[{"type":1,"timestamp":1715014837,"nonce":"dmW35SlqjN8YsrVKz7n29YxqHms=","metadata":{"github-id":"I_kwDOEt7lWM6H-kmJ","github-url":"https://github.com/buzden/deptycheck/issues/153","origin":"github"},"title":"Strange error when using direct `DPair` instead of `(... ** ...)` syntax of a derived generator return type","message":"I had a definitions and a derived generator\n\n```idris\ndata NameIsNew : (funs : Funs) -\u003e (vars : Vars) -\u003e UniqNames funs vars -\u003e String -\u003e Type\n\ngenNewName : Fuel -\u003e (Fuel -\u003e Gen MaybeEmpty String) =\u003e\n             (funs : Funs) -\u003e (vars : Vars) -\u003e (names : UniqNames funs vars) -\u003e\n             Gen MaybeEmpty (s ** NameIsNew funs vars names s)\n```\n\nand all worked, but once I change the return type to be in form of\n\n```idris\n             Gen MaybeEmpty $ DPair String $ NameIsNew funs vars names\n```\n\nderivation suddenly crashes with\n\n```console\nError: While processing right hand side of genNewName. Error during reflection: Target type's argument must be a variable name\n```\n\nwith non-var expression being `String`.\n\nSuddenly, replacing the return type with\n\n```idris\n             Gen MaybeEmpty $ DPair String $ \\x =\u003e NameIsNew funs vars names x\n```\n\nhelps with this.","files":null}]}